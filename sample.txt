import sys
from PySide6.QtWidgets import QApplication, QMainWindow, QPlainTextEdit, QPushButton, QVBoxLayout, QWidget
from PySide6.QtGui import QTextCursor

class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()

        self.setWindowTitle("텍스트 파일 읽기 및 표시")
        
        # 레이아웃 설정
        layout = QVBoxLayout()

        self.text_edit = QPlainTextEdit()
        layout.addWidget(self.text_edit)

        self.load_button = QPushButton("텍스트 파일 불러오기")
        layout.addWidget(self.load_button)
        self.load_button.clicked.connect(self.load_text_file)

        # 위젯 설정
        container = QWidget()
        container.setLayout(layout)
        self.setCentralWidget(container)

    def load_text_file(self):
        try:
            with open("sample.txt", "r", encoding="utf-8") as file:
                content = file.read()
                self.text_edit.setPlainText(content)
                # 텍스트 커서 맨 위로 이동
                cursor = QTextCursor(self.text_edit.document())
                self.text_edit.setTextCursor(cursor)
        except FileNotFoundError:
            self.text_edit.setPlainText("파일을 찾을 수 없습니다.")
        except Exception as e:
            self.text_edit.setPlainText(f"오류 발생: {e}")

if __name__ == "__main__":
    app = QApplication(sys.argv)

    window = MainWindow()
    window.show()

    sys.exit(app.exec())